<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Data Science Portfolio">
	<meta property="og:title" content="Exploring Chipotle Order Data" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:4000///2017/08/20/chipotle/" />
<meta property="og:image" content="http://localhost:4000//img/home-bg.jpg">
	
	

	<meta name="citation_title" content="Project Pages - An Integrated Scientific Blogging Template">


<meta name="citation_author" content="Ahmet Cecen">


<meta name="citation_author" content="David Brough">


<meta name="citation_author" content="Surya R. Kalidindi">



	
	<link rel='shortcut icon' type='image/png' href='/favi.png' />

    <title>Exploring Chipotle Order Data - SUNGHO KIM</title>

    <link rel="canonical" href="http://localhost:4000/2017/08/20/chipotle/">
	
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="http://localhost:4000/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="http://localhost:4000/css/clean-blog.css">
	
	<!-- Adjust Colors -->
    <link rel="stylesheet" href="http://localhost:4000/colorscheme.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="http://localhost:4000/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	<!-- Math Jax -->
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
	</script>
	<script type="text/javascript"
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
		TeX: { equationNumbers: { autoNumber: "AMS" } }
	});
	</script>

	<!--<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.13/d3.min.js" type="text/javascript"></script>-->

    <!-- jQuery -->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

	<!-- Custom Theme JavaScript -->
	<script src="http://localhost:4000/js/clean-blog.min.js "></script>
	
	
<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75881392-1', 'auto');
  ga('send', 'pageview');

</script>

	
</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">SUNGHO KIM</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
				
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/home-bg.jpg');">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading" style="padding: 30px 0">
                    <h1>Exploring Chipotle Order Data</h1>
<!--                     
                    <h2 class="subheading">Using python to analyze the order data from Grubhub</h2>
                    
                    <span class="meta">Posted by Sungho Kim on August 20, 2017</span>	 -->
                </div>
            </div>
        </div>
    </div>
</header>






	
	
		
	

<!-- Also Interesting -->



	
	
	

	
	 
	
	
	

	
	 
	
	
	


		</div>
		</div>

<!-- Post Content -->
<style>
img {
	display:block;
	max-width:  100%;
	margin-left: auto;
	margin-right: auto;
}

@media only screen and (min-width: 1000px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(1.2); 
	-webkit-transform:scale(1.2);
	-o-transform:scale(1.2);
}
}

@media only screen and (min-width: 1250px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(1.5); 
	-webkit-transform:scale(1.5);
	-o-transform:scale(1.5);
}
}

@media only screen and (min-width: 1500px) {
img {
	-moz-transition:-moz-transform 0.5s ease-in; 
	-webkit-transition:-webkit-transform 0.5s ease-in; 
	-o-transition:-o-transform 0.5s ease-in;
}
img:active{
	-moz-transform:scale(2); 
	-webkit-transform:scale(2);
	-o-transform:scale(2);
}
}
</style>

<article>
    <div id="content" class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>This data is based on about 1,800 Grubhub orders from July to December 2012. The data was collected from two Chipotle restaurants in Wahsington D.C &amp; East Lansing. It seemed interesting for me to explore the dataset by asking questions like what items people order the most, what is the average order price, etc. I am going to use python to analyze the data.</p>

<p>First, Load the tsv file using Pandas and print(df.head(10)) to see the format of data and first 10 items on the list. I recommend you to do this on every data set, before you execute any commands on the data.</p>

<p>As you can see from table, the data is described by order_id, quantity, item_name, choice_descrptiption and price. Let’s try to look at which item is most ordered by people on the list. You can use matplotlib.pyplot to visualize the data.</p>

<pre style="color:#d1d1d1;background:#000000;"><span style="color:#e66170; font-weight:bold; ">import</span> pandas <span style="color:#e66170; font-weight:bold; ">as</span> pd
df <span style="color:#d2cd86; ">=</span> pd<span style="color:#d2cd86; ">.</span>read_table<span style="color:#d2cd86; ">(</span><span style="color:#00c4c4; ">'orders.tsv'</span><span style="color:#d2cd86; ">)</span>
<span style="color:#e66170; font-weight:bold; ">print</span><span style="color:#d2cd86; ">(</span>df<span style="color:#d2cd86; ">.</span>head<span style="color:#d2cd86; ">(</span><span style="color:#00a800; ">10</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">)</span>

<span style="color:#e66170; font-weight:bold; ">import</span> matplotlib<span style="color:#d2cd86; ">.</span>pyplot <span style="color:#e66170; font-weight:bold; ">as</span> plt
items <span style="color:#d2cd86; ">=</span> df<span style="color:#d2cd86; ">.</span>item_name<span style="color:#d2cd86; ">.</span>value_counts<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">.</span>plot<span style="color:#d2cd86; ">(</span>kind<span style="color:#d2cd86; ">=</span><span style="color:#00c4c4; ">"bar"</span><span style="color:#d2cd86; ">)</span>
plt<span style="color:#d2cd86; ">.</span>show<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span>
</pre>

<p><img src="/img/chip1.png" alt="Description" /></p>

<p>It seems like the most popular item is the “Chicken Bowl” and the least ordered items are the “Carnitas Salad” and the “Veggie Crispy Tacos”. Besides the “Chicken Bowl”, I am curious as to what other items are most ordered. Let’s zoom in on the graph a little bit closer and see what those are. To do this, type the following command.</p>

<pre style="color:#d1d1d1;background:#000000;">top10 <span style="color:#d2cd86; ">=</span> df<span style="color:#d2cd86; ">.</span>item_name<span style="color:#d2cd86; ">.</span>value_counts<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">[</span><span style="color:#d2cd86; ">:</span><span style="color:#00a800; ">10</span><span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">.</span>plot<span style="color:#d2cd86; ">(</span>kind<span style="color:#d2cd86; ">=</span><span style="color:#00c4c4; ">"bar"</span><span style="color:#d2cd86; ">)</span>
plt<span style="color:#d2cd86; ">.</span>show<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span>
</pre>

<p><img src="/img/top10.png" alt="Description" /></p>

<p>Now you can see the name of the items more clearly than before. If you look at the graph, it is interesting to see that two items (Canned Soda, bottled water) from the top 10 are beverages. Let’s look at what kind of canned soda people ordered the most.  It is interesting to see that Mountain Dew and Dr.Pepper ranked second and third respectively.</p>

<pre style="color:#d1d1d1;background:#000000;">df<span style="color:#d2cd86; ">[</span><span style="color:#00c4c4; ">'item_price'</span><span style="color:#d2cd86; ">]</span> <span style="color:#d2cd86; ">=</span> df<span style="color:#d2cd86; ">[</span><span style="color:#00c4c4; ">'item_price'</span><span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">.</span><span style="color:#e66170; font-weight:bold; ">str</span><span style="color:#d2cd86; ">.</span>replace<span style="color:#d2cd86; ">(</span><span style="color:#00c4c4; ">'$'</span><span style="color:#d2cd86; ">,</span><span style="color:#00c4c4; ">''</span><span style="color:#d2cd86; ">)</span>  
df<span style="color:#d2cd86; ">[</span><span style="color:#00c4c4; ">'item_price'</span><span style="color:#d2cd86; ">]</span> <span style="color:#d2cd86; ">=</span> df<span style="color:#d2cd86; ">[</span><span style="color:#00c4c4; ">'item_price'</span><span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">.</span>astype<span style="color:#d2cd86; ">(</span><span style="color:#e66170; font-weight:bold; ">float</span><span style="color:#d2cd86; ">)</span>
orders <span style="color:#d2cd86; ">=</span> df<span style="color:#d2cd86; ">.</span>groupby<span style="color:#d2cd86; ">(</span><span style="color:#00c4c4; ">'order_id'</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">.</span><span style="color:#e66170; font-weight:bold; ">sum</span><span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span>  
<span style="color:#e66170; font-weight:bold; ">print</span><span style="color:#d2cd86; ">(</span>orders<span style="color:#d2cd86; ">.</span>head<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">)</span>
</pre>

<p><img src="/img/chip2.png" alt="Description" /></p>

<p>It was intriguing to explore the items that are most ordered by customers at Chipolte. Now, let’s try to look at the data from a business perspective and explore the data of price per order. First, you have to replace “$” with “” and change the data type to “float” in “item_price column”, because we would like to analyzes the numbers, instead of strings.</p>

<pre style="color:#d1d1d1;background:#000000;">descriptions <span style="color:#d2cd86; ">=</span> df<span style="color:#d2cd86; ">.</span>groupby<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">[</span><span style="color:#00c4c4; ">"item_name"</span><span style="color:#d2cd86; ">,</span> <span style="color:#00c4c4; ">"choice_description"</span><span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">[</span><span style="color:#00c4c4; ">"order_id"</span><span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">.</span>count<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">.</span>reset_index<span style="color:#d2cd86; ">(</span>name<span style="color:#d2cd86; ">=</span><span style="color:#00c4c4; ">"count"</span><span style="color:#d2cd86; ">)</span>
descriptions <span style="color:#d2cd86; ">=</span> descriptions<span style="color:#d2cd86; ">[</span>descriptions<span style="color:#d2cd86; ">[</span><span style="color:#00c4c4; ">'item_name'</span><span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">.</span><span style="color:#e66170; font-weight:bold; ">str</span><span style="color:#d2cd86; ">.</span>contains<span style="color:#d2cd86; ">(</span><span style="color:#00c4c4; ">"Canned Soda"</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">]</span>  
descriptions<span style="color:#d2cd86; ">.</span>sort_values<span style="color:#d2cd86; ">(</span><span style="color:#00c4c4; ">'count'</span><span style="color:#d2cd86; ">,</span>ascending<span style="color:#d2cd86; ">=</span>False<span style="color:#d2cd86; ">)</span>
<span style="color:#e66170; font-weight:bold; ">print</span><span style="color:#d2cd86; ">(</span>descriptions<span style="color:#d2cd86; ">)</span>

descriptions<span style="color:#d2cd86; ">.</span>choice_description<span style="color:#d2cd86; ">.</span>value_counts<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#d2cd86; ">.</span>plot<span style="color:#d2cd86; ">(</span>kind<span style="color:#d2cd86; ">=</span><span style="color:#00c4c4; ">"bar"</span><span style="color:#d2cd86; ">)</span>
plt<span style="color:#d2cd86; ">.</span>show<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span>
</pre>

<p>On average, it looks like people tend to spend 18.81 dollars per order. The minimum is 10.08 dollars per order and the maximum is 205 dollars per order. It is quite incredible to see that there are people who order 205 dollars worth of chipotle at a time. Maybe that person is catering a party or some other sort or large gathering.</p>

<p><img src="/img/chip3.png" alt="Description" /></p>

<p>It was fun exploring the data and finding a trend. I am planning to post more like this in the future. If you have any questions, feedback, advice or corrections please get in touch with me on <a href="https://www.linkedin.com/in/sunghok/">Linkedin</a> or email me at<a href="mailto:sunghokim@wustl.edu?Subject=Hello%20again" target="_top">sunghokim@wustl.edu</a>. I referred to this <a href="http://www.danielforsyth.me/pandas-burritos-analyzing-chipotle-order-data-2/">blog</a> to write this post.</p>



                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2017/08/15/nba_knn/" data-toggle="tooltip" data-placement="top" title="Clustering NBA Players">&larr; Previous Post</a>
                    </li>
                    
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>

<!-- <div class="container" style="padding-right: 50px;padding-left: 50px;">
<div class="row">
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1" id="disqus_thread">

</div>
</div>
</div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = '';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
 -->

<hr>


	
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/sunghok/">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
									
                </ul>
                <p class="copyright text-muted"> Copyright © <a href="http://ahmetcecen.github.io/" target="_blank">Ahmet Cecen</a>,  <a href="http://mined.gatech.edu/" target="_blank">MINED@GaTech</a> and <a href="https://github.com/projectpages" target="_blank">Project Pages</a> 2016. </p>
            </div>
        </div>
    </div>
</footer>



</body>

</html>
